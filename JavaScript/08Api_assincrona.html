<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API - Assíncrona</title>
    <script>

        //Requisição
        async function requisicao() {
            let requisicao = await fetch("https://pokeapi.co/api/v2/pokemon?limit=151");
            let pokemons = await requisicao.json();

            pokemons.results.map(linha => { requisicaoPOkemon(linha.url) });
        }

        //Requisição de Pokemons
        async function requisicaoPOkemon(url) {
            //Requisicão
            let requisicao = await fetch(url);
            let pokemon = await requisicao.json();

            //Obter o elemento listagem
            let listagem = document.getElementById("listagem");

            //Criar um elemento img
            let imagem = document.createElement("img");

            //Adicionar a imagem do Pokemon
            imagem.src = pokemon.sprites.front_default;

            //Adicionar a imagem na div listagem
            listagem.append(imagem);
        }

        //Executar a função
        window.onload = function () {
            requisicao();
        }

    </script>
</head>

<body>
    <div id="listagem"></div>
</body>

</html>